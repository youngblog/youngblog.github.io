<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>python中request模块的基本使用</title>
      <link href="/2020/032030464.html"/>
      <url>/2020/032030464.html</url>
      
        <content type="html"><![CDATA[<h2 id="Requests库的基础使用"><a href="#Requests库的基础使用" class="headerlink" title="Requests库的基础使用"></a>Requests库的基础使用</h2><p><strong>Get/Post请求</strong> </p><p>Get请求</p><pre class=" language-python"><code class="language-python"> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">,</span>参数<span class="token punctuation">)</span>        </code></pre><p>Post请求</p><pre class=" language-python"><code class="language-python"> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">,</span>参数<span class="token punctuation">)</span></code></pre><h3 id="0x01-响应体内容"><a href="#0x01-响应体内容" class="headerlink" title="0x01 .响应体内容"></a>0x01 .响应体内容</h3><table><thead><tr><th>用法</th><th>解释</th></tr></thead><tbody><tr><td><code>r.encoding</code></td><td>获取当前编码</td></tr><tr><td><code>r.encoding = ‘utf-8’</code></td><td>设置编码</td></tr><tr><td><code>r.text</code></td><td>以encoding解析返回内容。字符串方式的响应体，会根据响应头部的字符编码进行解码</td></tr><tr><td><code>r.content</code></td><td>以字节（二进制）返回。字节方式的响应体会自动为你解码gzip和deflate压缩</td></tr><tr><td><code>r.headers</code></td><td>以字典对象存储服务器响应头，但是字典比较特殊，字典键不区分大小写，若键不存在，则返回None</td></tr><tr><td><code>r.status_code</code></td><td>响应状态码 <em>特殊方法</em></td></tr><tr><td><code>r.json()</code></td><td>Requests 中内置的json解码器，以json形式返回内容，确保json格式，不然解析出错会抛异常</td></tr><tr><td><code>r.raise_for_status()</code></td><td>失败请求(非200响应) 抛出异常</td></tr></tbody></table><h3 id="0x02-进阶应用"><a href="#0x02-进阶应用" class="headerlink" title="0x02. 进阶应用"></a>0x02. 进阶应用</h3><p><strong>1.定制header/cookies 内容</strong></p><pre class=" language-python"><code class="language-python">header <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'user-agent'</span><span class="token punctuation">:</span><span class="token string">'User-Agent: Mozilla/5.0'</span><span class="token punctuation">}</span>cookie <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'key'</span><span class="token punctuation">:</span><span class="token string">'值'</span><span class="token punctuation">}</span>r<span class="token punctuation">.</span>request<span class="token punctuation">.</span>get<span class="token operator">/</span>post<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com'</span><span class="token punctuation">,</span>headers<span class="token operator">=</span>header<span class="token punctuation">,</span>cookies<span class="token operator">=</span>cookie<span class="token punctuation">)</span></code></pre><p><strong>2.设置http代理</strong></p><pre class=" language-python"><code class="language-python">proxies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'http'</span><span class="token punctuation">:</span><span class="token string">'120.79.212.174'</span><span class="token punctuation">,</span><span class="token string">'https'</span><span class="token punctuation">:</span><span class="token string">'60.167.20.246'</span><span class="token punctuation">}</span>baidu <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com'</span><span class="token punctuation">,</span>proxies<span class="token operator">=</span>proxies<span class="token punctuation">)</span></code></pre><p>如果需要用户名密码验证</p><pre class=" language-python"><code class="language-python">proxies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'http'</span><span class="token punctuation">:</span><span class="token string">'username:password@120.79.212.174'</span><span class="token punctuation">}</span>baidu <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com'</span><span class="token punctuation">,</span>proxies<span class="token operator">=</span>proxies<span class="token punctuation">)</span></code></pre><p><strong>3.基础身份认证</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">from</span> requests<span class="token punctuation">.</span>auth <span class="token keyword">import</span> HTTPBasicAuthurl <span class="token operator">=</span> <span class="token string">'https://qiyuanxuetang.net/hidden-basic-auth/user/passwd'</span>r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span>auth<span class="token operator">=</span>HTTPBasicAuth<span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span><span class="token string">'passwd'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># r = requests.get(url=url,auth=('user','passwd') //简写</span><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="0x03-推荐阅读文章"><a href="#0x03-推荐阅读文章" class="headerlink" title="0x03.推荐阅读文章"></a>0x03.推荐阅读文章</h3><ol><li><a href="https://blog.csdn.net/qq_29286967/article/details/81025237" target="_blank" rel="noopener">request模块的深入和使用</a></li><li><a href="https://blog.csdn.net/weixin_44494778/article/details/93709582" target="_blank" rel="noopener">request基本使用</a><br>也可以看看官方解释</li></ol>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>urllib3模块的基本使用</title>
      <link href="/2020/032048346.html"/>
      <url>/2020/032048346.html</url>
      
        <content type="html"><![CDATA[<h2 id="urllib3模块的基本使用"><a href="#urllib3模块的基本使用" class="headerlink" title="urllib3模块的基本使用"></a>urllib3模块的基本使用</h2><hr>简单的请求get请求<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib3http <span class="token operator">=</span> urllib3<span class="token punctuation">.</span>PoolManager<span class="token punctuation">(</span><span class="token punctuation">)</span>baidu <span class="token operator">=</span> http<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">"get"</span><span class="token punctuation">,</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>baidu<span class="token punctuation">.</span>status<span class="token punctuation">)</span></code></pre><p>post请求</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib3http <span class="token operator">=</span> urllib3<span class="token punctuation">.</span>PoolManager<span class="token punctuation">(</span><span class="token punctuation">)</span>baidu <span class="token operator">=</span> http<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">"get"</span><span class="token punctuation">,</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>baidu<span class="token punctuation">.</span>status<span class="token punctuation">)</span></code></pre><h2 id="urllib3的其他拓展"><a href="#urllib3的其他拓展" class="headerlink" title="urllib3的其他拓展"></a>urllib3的其他拓展</h2><hr>### 1、最简单<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requestresponse <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">'http://python.org/'</span><span class="token punctuation">)</span>html <span class="token operator">=</span> response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="2、使用-Request"><a href="#2、使用-Request" class="headerlink" title="2、使用 Request"></a>2、使用 Request</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requestreq <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span><span class="token string">'http://python.org/'</span><span class="token punctuation">)</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span>the_page <span class="token operator">=</span> response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="3、发送数据"><a href="#3、发送数据" class="headerlink" title="3、发送数据"></a>3、发送数据</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>parse<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requesturl <span class="token operator">=</span> <span class="token string">'http://localhost/login.php'</span>user_agent <span class="token operator">=</span> <span class="token string">'Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)'</span>values <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'act'</span> <span class="token punctuation">:</span> <span class="token string">'login'</span><span class="token punctuation">,</span><span class="token string">'login[email]'</span> <span class="token punctuation">:</span> <span class="token string">'yzhang@i9i8.com'</span><span class="token punctuation">,</span><span class="token string">'login[password]'</span> <span class="token punctuation">:</span> <span class="token string">'123456'</span><span class="token punctuation">}</span>data <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span>values<span class="token punctuation">)</span>req <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">)</span>req<span class="token punctuation">.</span>add_header<span class="token punctuation">(</span><span class="token string">'Referer'</span><span class="token punctuation">,</span> <span class="token string">'http://www.python.org/'</span><span class="token punctuation">)</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span>the_page <span class="token operator">=</span> response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>the_page<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="4、发送数据和header"><a href="#4、发送数据和header" class="headerlink" title="4、发送数据和header"></a>4、发送数据和header</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>parse<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requesturl <span class="token operator">=</span> <span class="token string">'http://localhost/login.php'</span>user_agent <span class="token operator">=</span> <span class="token string">'Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)'</span>values <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'act'</span> <span class="token punctuation">:</span> <span class="token string">'login'</span><span class="token punctuation">,</span><span class="token string">'login[email]'</span> <span class="token punctuation">:</span> <span class="token string">'yzhang@i9i8.com'</span><span class="token punctuation">,</span><span class="token string">'login[password]'</span> <span class="token punctuation">:</span> <span class="token string">'123456'</span><span class="token punctuation">}</span>headers <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'User-Agent'</span> <span class="token punctuation">:</span> user_agent <span class="token punctuation">}</span>data <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span>values<span class="token punctuation">)</span>req <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> headers<span class="token punctuation">)</span>response <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span>the_page <span class="token operator">=</span> response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>the_page<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="5、http-错误"><a href="#5、http-错误" class="headerlink" title="5、http 错误"></a>5、http 错误</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requestreq <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span><span class="token string">'http://www.111cn.net '</span><span class="token punctuation">)</span><span class="token keyword">try</span><span class="token punctuation">:</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token keyword">except</span> urllib<span class="token punctuation">.</span>error<span class="token punctuation">.</span>HTTPError <span class="token keyword">as</span> e<span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="6、异常处理1"><a href="#6、异常处理1" class="headerlink" title="6、异常处理1"></a>6、异常处理1</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> Request<span class="token punctuation">,</span> urlopen<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>error <span class="token keyword">import</span> URLError<span class="token punctuation">,</span> HTTPErrorreq <span class="token operator">=</span> Request<span class="token punctuation">(</span><span class="token string">"http://www.111cn.net /"</span><span class="token punctuation">)</span><span class="token keyword">try</span><span class="token punctuation">:</span>response <span class="token operator">=</span> urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token keyword">except</span> HTTPError <span class="token keyword">as</span> e<span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'The server couldn'</span>t fulfill the request<span class="token punctuation">.</span>'<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Error code: '</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token keyword">except</span> URLError <span class="token keyword">as</span> e<span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'We failed to reach a server.'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Reason: '</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"good!"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="7、异常处理2"><a href="#7、异常处理2" class="headerlink" title="7、异常处理2"></a>7、异常处理2</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> Request<span class="token punctuation">,</span> urlopen<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>error <span class="token keyword">import</span>  URLErrorreq <span class="token operator">=</span> Request<span class="token punctuation">(</span><span class="token string">"http://www.111cn.net /"</span><span class="token punctuation">)</span><span class="token keyword">try</span><span class="token punctuation">:</span>response <span class="token operator">=</span> urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token keyword">except</span> URLError <span class="token keyword">as</span> e<span class="token punctuation">:</span><span class="token keyword">if</span> hasattr<span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">'reason'</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'We failed to reach a server.'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Reason: '</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token keyword">elif</span> hasattr<span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">'code'</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'The server couldn'</span>t fulfill the request<span class="token punctuation">.</span>'<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Error code: '</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"good!"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="8、HTTP-认证"><a href="#8、HTTP-认证" class="headerlink" title="8、HTTP 认证"></a>8、HTTP 认证</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request<span class="token comment" spellcheck="true"># create a password manager</span>password_mgr <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>HTTPPasswordMgrWithDefaultRealm<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># Add the username and password.</span><span class="token comment" spellcheck="true"># If we knew the realm, we could use it instead of None.</span>top_level_url <span class="token operator">=</span> <span class="token string">"https://www.111cn.net /"</span>password_mgr<span class="token punctuation">.</span>add_password<span class="token punctuation">(</span>None<span class="token punctuation">,</span> top_level_url<span class="token punctuation">,</span> <span class="token string">'rekfan'</span><span class="token punctuation">,</span> <span class="token string">'xxxxxx'</span><span class="token punctuation">)</span>handler <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>HTTPBasicAuthHandler<span class="token punctuation">(</span>password_mgr<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># create "opener" (OpenerDirector instance)</span>opener <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>build_opener<span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># use the opener to fetch a URL</span>a_url <span class="token operator">=</span> <span class="token string">"https://www.111cn.net /"</span>x <span class="token operator">=</span> opener<span class="token punctuation">.</span>open<span class="token punctuation">(</span>a_url<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># Install the opener.</span><span class="token comment" spellcheck="true"># Now all calls to urllib.request.urlopen use our opener.</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>install_opener<span class="token punctuation">(</span>opener<span class="token punctuation">)</span>a <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>a_url<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre><h3 id="9、使用代理"><a href="#9、使用代理" class="headerlink" title="9、使用代理"></a>9、使用代理</h3><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#! /usr/bin/env python3</span><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requestproxy_support <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>ProxyHandler<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'sock5'</span><span class="token punctuation">:</span> <span class="token string">'localhost:1080'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>opener <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>build_opener<span class="token punctuation">(</span>proxy_support<span class="token punctuation">)</span>urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>install_opener<span class="token punctuation">(</span>opener<span class="token punctuation">)</span>a <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">"http://www.111cn.net "</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre><h3 id="10、超时"><a href="#10、超时" class="headerlink" title="10、超时"></a>10、超时</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> socket<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request<span class="token comment" spellcheck="true"># timeout in seconds</span>timeout <span class="token operator">=</span> <span class="token number">2</span>socket<span class="token punctuation">.</span>setdefaulttimeout<span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># this call to urllib.request.urlopen now uses the default timeout</span><span class="token comment" spellcheck="true"># we have set in the socket module</span>req <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span><span class="token string">'http://www.111cn.net /'</span><span class="token punctuation">)</span>a <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre><h2 id="urllib3推荐文章"><a href="#urllib3推荐文章" class="headerlink" title="urllib3推荐文章"></a>urllib3推荐文章</h2><hr><p>因为我没怎么经常用urllib3这个模块<br>所以推荐一下别人的文章，写的不错</p><ol><li><a href="https://www.jianshu.com/p/d2f093ac01d6" target="_blank" rel="noopener">urllib和urllib3的使用</a></li><li><a href="https://www.cnblogs.com/springsnow/p/12118558.html" target="_blank" rel="noopener">Python HTTP客户端模块urllib、urllib3、requests库</a></li><li><a href="https://www.pianshen.com/article/820125448/" target="_blank" rel="noopener">python3下 urllib常用模块</a></li></ol><p>这三篇文章特别详细，比其他地方好多了<br>（<em>先保存，因为要写个自动化信息收集的工具，又要上班<br>果断时间再回来看</em>）</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用命令（二）</title>
      <link href="/2020/031748230.html"/>
      <url>/2020/031748230.html</url>
      
        <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><hr><h3 id="0x01-cat命令"><a href="#0x01-cat命令" class="headerlink" title="0x01 . cat命令"></a><code>0x01</code> . cat命令</h3><blockquote><p>cat命令用于查看纯文本文件（内容较少的），格式为“cat [选项] [文件]”。 如图，继上一篇里面我的创建文档，</p></blockquote><blockquote><p>里面只有hello world单词</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200317204341704.png" alt=""></p><h3 id="0x02-more命令"><a href="#0x02-more命令" class="headerlink" title="0x02. more命令"></a><code>0x02</code>. more命令</h3><blockquote><p>more命令用于查看纯文本文件（内容较多的），格式为“more [选项]文件”。 刚好昨天我昨天对6个网站进行nmap探测</p></blockquote><blockquote><p>这时候可以用more命令查看</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200317204520717.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="0x03-head命令"><a href="#0x03-head命令" class="headerlink" title="0x03. head命令"></a><code>0x03</code>. head命令</h3><blockquote><p>head命令用于查看纯文本文档的前N行，格式为“head [选项] [文件]”。</p><p>head -n 3 url.txt   就会看到前3行的url，文件里有6行url</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200317204600646.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="0x04-wc命令"><a href="#0x04-wc命令" class="headerlink" title="0x04. wc命令"></a><code>0x04</code>. wc命令</h3><blockquote><p>wc命令用于统计指定文本的行数、字数、字节数，格式为“wc [参数] 文本”。 </p></blockquote><blockquote><p>wc –help  就可以查看具体参数了</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200317204633754.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="0x05-stat命令"><a href="#0x05-stat命令" class="headerlink" title="0x05.stat命令"></a><code>0x05</code>.stat命令</h3><blockquote><p>stat命令用于查看文件的具体存储信息和时间等信息，格式为“stat 文件名称”</p></blockquote><blockquote><p>stat hello.txt   操作简单，一看就懂</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2020031720470926.png" alt=""></p><h3 id="0x06-touch命令"><a href="#0x06-touch命令" class="headerlink" title="0x06. touch命令"></a><code>0x06</code>. touch命令</h3><blockquote><p>touch命令用于创建空白文件或设置文件的时间，</p><p>格式为<code>touch [选项] [文件]</code></p></blockquote><blockquote><p>写py的时候也可以这样创建个文件</p></blockquote><h3 id="0x07-mkdir命令"><a href="#0x07-mkdir命令" class="headerlink" title="0x07. mkdir命令"></a><code>0x07</code>. mkdir命令</h3><blockquote><p>mkdir命令用于创建空白的目录，格式为“mkdir [选项] 目录”。</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200317204815429.png" alt=""></p><h3 id="0x08-cp命令"><a href="#0x08-cp命令" class="headerlink" title="0x08.cp命令"></a><code>0x08</code>.cp命令</h3><blockquote><p>cp命令用于复制文件或目录，<br>格式为“<code>cp [选项] 源文件 目标文件</code>”。<br> 随便 cp hello.txt    或者复制目录 cp love</p></blockquote><h3 id="0x09-mv命令"><a href="#0x09-mv命令" class="headerlink" title="0x09. mv命令"></a><code>0x09</code>. mv命令</h3><blockquote><p>mv命令用于移动文件或将文件重命名</p></blockquote><blockquote><p>格式为“mv [选项] 源文件 [目标路径|目标文件名]”。</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200317204911329.png" alt=""></p><h3 id="0x10-file命令"><a href="#0x10-file命令" class="headerlink" title="0x10. file命令"></a><code>0x10</code>. file命令</h3><blockquote><p>file命令用于查看文件的类型，格式为“file 文件名”。</p></blockquote><h3 id="0x11-tar命令"><a href="#0x11-tar命令" class="headerlink" title="0x11. tar命令"></a><code>0x11</code>. tar命令</h3><blockquote><p>tar命令用于对文件进行打包压缩或解压，格式为“tar [选项] [文件]”。</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200317204957177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="0x12-find命令"><a href="#0x12-find命令" class="headerlink" title="0x12. find命令"></a><code>0x12</code>. find命令</h3><blockquote><p>find命令用于按照指定条件来查找文件，格式为“find [查找路径] 寻找条件 操作”</p></blockquote><h2 id="使用chmod命令进行文件的权限修改"><a href="#使用chmod命令进行文件的权限修改" class="headerlink" title="使用chmod命令进行文件的权限修改"></a><code>使用chmod命令进行文件的权限修改</code></h2><p><code>chmod [选项] &lt;模式,模式...&gt; &lt;文件名...&gt;</code></p><p>文件和目录的权限<br>linux中文件和目录的权限有所不同</p><p><strong>文件的权限:</strong><br>r 可以读文件       数值为  4<br>w 可以写文件  数值为 2<br>x 可以执行文件  数值为1</p><p><strong>目录的权限:</strong></p><p><code>xr</code> 可以读取（cp）和查看（ls）目录的内容（即文件和目录），同时还需要可执行权限</p><p><code>xw</code> 可以在目录里创建文件（touch）和目录（mkdir）和删除文件（rm）和目录（rmdir），同时还需要可执行权限</p><p><code>xx</code> 可以进入目录（cd）和执行文件 实践过程 </p>]]></content>
      
      
      <categories>
          
          <category> Liunx </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用命令</title>
      <link href="/2020/031711755.html"/>
      <url>/2020/031711755.html</url>
      
        <content type="html"><![CDATA[<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>废话不多说，冲冲冲<br>什么是shell呢？<br><img src="https://img-blog.csdnimg.cn/20200211113656866.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>看看这张图，早期是开机后直接面对黑黑的命令行，shell命令才能控制其他软件</p><p><strong>shell</strong> ：是为用户与机器之间搭建成的一个桥梁，让我们能够通过shell来对计算机进行操作和交互，从而达到让计算机为我们服务的目的。<br><img src="https://img-blog.csdnimg.cn/20200211145731715.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>shell与终端的区别</strong><br><strong>终端</strong>：<em>接收用户的输入，并传递给shell程序，接收程序输出并展示到屏幕</em><br><strong>shell</strong>： <em>接收并解析用户的命令给操作系统执行，将结果输出到终端</em></p><h1 id="vim的使用"><a href="#vim的使用" class="headerlink" title="vim的使用"></a>vim的使用</h1><p>我们写文档的时候会通过编辑器来编辑文档<br>vim是kali linux自带的编辑器<br>vim的作用<br> 1.编写代码<br>2. 编写文档</p><h3 id="0x01"><a href="#0x01" class="headerlink" title="0x01"></a>0x01</h3><p>先使用touch命令，创建文件<br>touch  hello.txt</p><p><img src="https://img-blog.csdnimg.cn/20200211150048361.png" alt="在这里插入图片描述"><br>我们在进入文件，进行修改编辑文档，这就是vim的用处之一</p><p>使用 <code>vim hello.txt</code>就可以进入编辑了</p><h3 id="0x02进入文档，进行编辑"><a href="#0x02进入文档，进行编辑" class="headerlink" title="0x02进入文档，进行编辑"></a>0x02进入文档，进行编辑</h3><p><img src="https://img-blog.csdnimg.cn/2020021115023414.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这里我输入 的话按个字母i<br><img src="https://img-blog.csdnimg.cn/20200211165725914.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""><br>会显示插入，这时候就可以书写了<br>然后我写入hello world文本<br><img src="https://img-blog.csdnimg.cn/20200211165326706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>如何保存退出嘞？<br>先按下键盘的右上角的Esc会像下图显示<br><img src="https://img-blog.csdnimg.cn/20200211165631237.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="退出写入模式"><br>会退出写入模式<br>然后再按<code>shift</code> + <code>:</code> 号<br><img src="https://img-blog.csdnimg.cn/20200211165913383.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这时候会显示一个 冒号，我们输入wq，就可以退出了<br><img src="https://img-blog.csdnimg.cn/20200211170003338.png" alt="在这里插入图片描述"><br>w：保存<br>q：退出<br>wq 和 x 都是保存退出<br>q！：强制退出<br>w！：强制保存，管理员才有权限<br>insert 键: 在键盘的回退键旁边，点 ins 可以直接切换到插入模式</p><p>单独写一个w，是保存，但不退出<br>单独写一个q，是退出，不保存<br>wq 和 x  都是保存退出<br>q！是强制退出，不会保存<br>w! 是强制保存，单不会退出<br>这样就看的懂吧<br><strong>下面是一些其他的方式</strong></p><pre class=" language-bash"><code class="language-bash">i：在当前光标所在字符的前面，转为输入模式I：在当前光标所在行的行首转换为输入模式a：在当前光标所在字符的后面，转为输入模式A：在光标所在行的行尾，转换为输入模式o：在当前光标所在行的下方，新建一行，并转为输入模式O：在当前光标所在行的上方，新建一行，并转为输入模式s：删除光标所在字符r：替换光标处字符</code></pre><p>查找<br>普通模式：　<br>/PATTERN：从当前位置向后查找<br>？PATTERN：从当前位置向前查找</p><p><img src="https://img-blog.csdnimg.cn/20200211170320351.png" alt="在这里插入图片描述"></p><h1 id="Linux常用命令"><a href="#Linux常用命令" class="headerlink" title="Linux常用命令"></a>Linux常用命令</h1><p><strong>1.echo命令</strong><br>echo命令用于在终端输出字符串或变量提取后的值<br>格式为 “echo [字符串 | $变量]”。<br><img src="https://img-blog.csdnimg.cn/20200211171241584.png" alt="具体设计shell编程，我不会"><br><strong>2.date命令</strong><br>date命令用于显示及设置系统的时间或日期，格式为“date [选项] [+指定的格式]”。<br><img src="https://img-blog.csdnimg.cn/20200211171117872.png" alt="在这里插入图片描述"></p><p><strong>3.poweroff命令</strong><br>poweroff 是条关机的命令，其格式为poweroff。</p><p><strong>4.top命令</strong><br>显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率等，格式为“top [参数]”。</p><p>具体查看这篇博客<br><a href="https://www.cnblogs.com/niuben/p/12017242.html" target="_blank" rel="noopener">https://www.cnblogs.com/niuben/p/12017242.html</a></p><p><strong>5.ifconfig命令</strong></p><p>ifconfig命令用于获取网卡配置与网络状态等信息，格式为“ifconfig [网络设备] [参数]”。<br><img src="https://img-blog.csdnimg.cn/20200211171734559.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>6.uname命令</strong></p><p>uname命令用于查看系统内核与系统版本等信息，格式为“uname [-a]”。<br><img src="https://img-blog.csdnimg.cn/20200211171810608.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>7.who命令</strong></p><p>who用于查看当前登入主机的用户终端信息，格式为“who [参数]”。<br>这个不用我说了吧，不懂后面加个 –help<br><img src="https://img-blog.csdnimg.cn/20200211171850317.png" alt="在这里插入图片描述"></p><p><strong>8.history命令</strong></p><p>history命令用于显示历史执行过的命令，格式为“history [-c]”。<br><img src="https://img-blog.csdnimg.cn/20200211171945336.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>9.pwd命令</strong></p><p>pwd命令用于显示用户当前所处的工作目录，格式为“pwd [选项]”。<br>注意，linux大小写敏感，千万不要小写<br><img src="https://img-blog.csdnimg.cn/20200211172156677.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>10.cd命令</strong></p><p>cd命令用于切换工作路径，格式为“cd [目录名称]”。<br>这个就不用我说了吧<br><img src="https://img-blog.csdnimg.cn/20200211172307300.png" alt="在这里插入图片描述"></p><p><strong>11.ls命令</strong></p><p>ls命令用于显示目录中的文件信息，格式为“ls [选项] [文件] ”。</p><p>依然是你懂的~~</p><h2 id="文末"><a href="#文末" class="headerlink" title="文末"></a>文末</h2><p>内容比较多，接下来我会继续补全，我讲的是常用命令<br>有说错的地方评论指出，我会改正。<br>欢迎大佬们捧场，感兴趣的可以加我vx互相交流<br><img src="https://img-blog.csdnimg.cn/20200211173014847.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_1,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_1,color_FFFFFF,t_10" alt="在这里插入图片描述"><br>（另外：我不是打广告，只是互相交流，人多了我会创个群，方便一起交流）</p>]]></content>
      
      
      <categories>
          
          <category> Liunx </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>2020版本kali安装</title>
      <link href="/2020/031665118.html"/>
      <url>/2020/031665118.html</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>——————————————————————————————————————<br>总所周知，这个最新版本的变化很大（其实就是桌面变化大）<br>其实嘞，物竞天择，随时代潮流。我刚好想试一试，那么就安装一个最新版本的，kali 2020.1</p><h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h3 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h3><blockquote><p>我相信大家的电脑都是windows<br>所以，我就直接复制下载地址</p></blockquote><p><code>https://www.offensive-security.com/kali-linux-vm-vmware-virtualbox-image-download/</code><br><img src="https://img-blog.csdnimg.cn/20200316195043515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""></p><blockquote><p>进入这个地址<br>因为我有梯子，所以就不管那么多，直接点击下载了</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200316195117743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>下载了一局王者的世界，不要问我为什么（我打了一局王者，这个就下载好了）</p></blockquote><h3 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h3><blockquote><p>下载后是个压缩包，这时候我们就解压。解压一下下就妥了</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2020031619513425.png" alt="在这里插入图片描述"></p><blockquote><p>我就解压到这里来，丝毫不慌~~</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200316195140262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>找到vmx后缀的这个，右键点击vm打开</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200316195149984.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>就是第一个，可以直接免手工安装<br>打开后的初始账号密码是 kali | kali</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200316195304992.png" alt="在这里插入图片描述"></p><blockquote><p>进入界面一瞄，发现不赖<br><code>kali-undercover</code>  使用这个命令，可以切换主题</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200316195317209.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>不行不行，我爱了</p><p>幸亏还是不一样的（这样以后还是可以在朋友面前装逼）<br>再使用那个命令，就可以再切换回来，这里只是像windows，但是实际上命令还是得使用linux的</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200316195448651.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>好吧，这有点不符合常理 这样的话以后会懵逼的，我丢</p></blockquote><blockquote><p>这是进入的是非管理员权限。这时候就要  <code>sudo su</code> 切换到管理员权限，然后修改密码用 <code>sudo passwd root</code><br>设置成你想要的密码</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2020031619560873.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>参考文章：<a href="https://www.moonsec.com/archives/762" target="_blank" rel="noopener">https://www.moonsec.com/archives/762</a> 这时候换源</p></blockquote><p><code>sudo vim /etc/apt/sources.list</code></p><h4 id="解决中文乱码"><a href="#解决中文乱码" class="headerlink" title="解决中文乱码"></a>解决中文乱码</h4><p><code>dpkg-reconfigure locales</code><br>进入图形化界面之后，（空格是选择，Tab是切换，带*是选中），<br>选中zh_CN.UTF-8，确定后，将zh_CN.UTF-8选为默认。</p><p><code>apt-get install xfonts-intl-chinese</code>  和 <code>apt-get install ttf-wqy-microhei</code> 来安装中文字体<br>然后重启1遍，如果不可以的话。就重启2遍就可以了<br>具体的网上有，我就不多描述了</p>]]></content>
      
      
      <categories>
          
          <category> kali </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>SQL注入</title>
      <link href="/2020/0316undefined.html"/>
      <url>/2020/0316undefined.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>——————————————————————————————————————</p><p>这是我之前发布到的其他的一个网址，这里的话我重新总结</p><p>可能分很多，我也不是很清楚，只是皮毛的研究了一下</p><h2 id="1，sql按数据库分的话，常用的有："><a href="#1，sql按数据库分的话，常用的有：" class="headerlink" title="1，sql按数据库分的话，常用的有："></a>1，sql按数据库分的话，常用的有：</h2><p><strong>MySQL，access，oracle，ms sql</strong></p><h2 id="2，按传参类型，分"><a href="#2，按传参类型，分" class="headerlink" title="2，按传参类型，分"></a>2，按传参类型，分</h2><p>Get，Post，cookie</p><p>总而言之有：<br><code>盲注</code>       ：（盲注分布尔型，和时间型）<br><code>union注入</code>：（我叫他显错注入）<br><code>head注入</code> ： （在请求头注入）<br><code>Post注入</code>  ：（也就是对于表单的注入，例如登录框）</p><p>还有就是关于其他数据库的骚姿势，例如<strong>mysql</strong>的<strong>dnslog</strong>注入，<strong>mssql</strong>的反弹注入</p><h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><p>我也就废话不多说，写出来，这是我原本csdn写的，不想重复，就这样把对应地址贴出来</p><h4 id="Mysql数据库注入："><a href="#Mysql数据库注入：" class="headerlink" title="Mysql数据库注入："></a>Mysql数据库注入：</h4><p><code>1：union注入</code>：<a href="https://blog.csdn.net/m0_46304840/article/details/104343242" target="_blank" rel="noopener">点击查看</a></p><p><code>2：盲注：</code><br><a href="https://blog.csdn.net/m0_46304840/article/details/104640938" target="_blank" rel="noopener">布尔型</a><br><a href="https://blog.csdn.net/m0_46304840/article/details/104688966" target="_blank" rel="noopener">时间型</a><br><code>3：报错注入</code>：<a href="https://blog.csdn.net/m0_46304840/article/details/104733922" target="_blank" rel="noopener">点击查看</a><br><code>4：宽字节注入</code>：<a href="https://blog.csdn.net/m0_46304840/article/details/104758798" target="_blank" rel="noopener">点击查看</a><br><code>5：cookie注入&amp;base64注入</code>：<a href="https://blog.csdn.net/m0_46304840/article/details/104774792" target="_blank" rel="noopener">点击查看</a><br><code>6：head注入</code>：<a href="https://blog.csdn.net/m0_46304840/article/details/104805895" target="_blank" rel="noopener">xff头注入</a><br>————————————————————————————————————————</p><h4 id="Access数据库注入"><a href="#Access数据库注入" class="headerlink" title="Access数据库注入"></a>Access数据库注入</h4><p><code>偏移注入&amp;移位溢注&amp;逐字猜解：：</code></p><p><a href="https://blog.csdn.net/m0_46304840/article/details/104808825" target="_blank" rel="noopener">点击查看</a></p><h4 id="MS-SQL数据库注入"><a href="#MS-SQL数据库注入" class="headerlink" title="MS SQL数据库注入"></a>MS SQL数据库注入</h4><p><code>mssql-union注入：</code> <a href="https://blog.csdn.net/m0_46304840/article/details/104815241" target="_blank" rel="noopener">union注入</a><br><code>mssql-反弹注入</code>：<a href="https://blog.csdn.net/m0_46304840/article/details/104818304" target="_blank" rel="noopener">反弹注入</a></p><p>至于其他的还没写，以后直接更新到这里</p>]]></content>
      
      
      <categories>
          
          <category> SQL </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>反射性xss</title>
      <link href="/2020/031648744.html"/>
      <url>/2020/031648744.html</url>
      
        <content type="html"><![CDATA[<p>没啥好说的，直接贴出我之前写的：<a href="https://mp.csdn.net/console/editor/html/104876310" target="_blank" rel="noopener">反射型xss</a></p>]]></content>
      
      
      <categories>
          
          <category> xss </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>kali的基本配置</title>
      <link href="/2020/031611755.html"/>
      <url>/2020/031611755.html</url>
      
        <content type="html"><![CDATA[<h1 id="0x01-：vmware网络配置"><a href="#0x01-：vmware网络配置" class="headerlink" title="0x01 ：vmware网络配置"></a>0x01 ：vmware网络配置</h1><hr><p>在有下角有个网络适配器<br><img src="https://img-blog.csdnimg.cn/20200317004057207.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""><br>点击一下就出现了虚拟机设置<br><img src="https://img-blog.csdnimg.cn/20200317004201978.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_5,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_14,color_FFFFFF,t_60" alt="在这里插入图片描述"><br>虚拟机有三个网络配置<br><code>1</code>：桥接模式（虚拟机和主机在同一个网络环境下的两台电脑）<br><code>2</code>：NAT模式（虚拟机通过主机联网）<br><code>3</code>：主机模式（只能虚拟机和主机直接交互）<br>前面2个应该比较熟悉，而第三个，意思就是无法ping通外网，只能虚拟机和宿主机直接互相ping通</p><h1 id="0x02：kali系统更新配置"><a href="#0x02：kali系统更新配置" class="headerlink" title="0x02：kali系统更新配置"></a>0x02：kali系统更新配置</h1><hr><p>更新配置这里使用老版本的，新版本的以后在弄（新版本msf依赖下载好慢，不习惯）</p><p>选择不更新 Metasploit<br><strong>1:</strong> 查看当前的系统中所有软件包状态</p><p><code>sudo dbjg --get-selections | more</code><br>这时候可以找打软件包为 “metasploit-framework”<br><strong>2:</strong> 给metasploit-framework锁定当前版本不更新</p><p><code>sudo apt-mark hold metasploit-framework</code><br><strong>3：</strong> 查看当前已锁定的软件包<br><code>sudo dbkg --get-selections | grep hold</code><br><strong>4:</strong> 取消软件保留设置</p><p><code>sudo -apt-mark unhold metasploit-framework</code><br>但是一般情况下的话不会去锁定哒<del>~</del></p><p><strong>kali系统更新后出现一些问题</strong><br>进入 <code>/usr/share/metasploit-framework</code> 目录下<br>使用命令</p><p><code>gem install bundler</code><br><code>gem update --system</code><br>然后就可以成功的启动了，具体可以问度娘的~~</p><h3 id="一、配置kali系统源"><a href="#一、配置kali系统源" class="headerlink" title="一、配置kali系统源"></a>一、配置kali系统源</h3><p><strong>1.</strong> 使用编辑器打开系统源文本<br><code>leafpad /etc/apt/aources.list</code></p><p><strong>2.</strong> 填写源</p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#中科大</span>deb http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contribdeb-src http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib<span class="token comment" spellcheck="true">#阿里云</span>deb http://mirrors.aliyun.com/kali kali-rolling main non-free contribdeb-src http://mirrors.aliyun.com/kali kali-rolling main non-free contrib<span class="token comment" spellcheck="true">#清华大学</span>deb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-freedeb-src https://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free<span class="token comment" spellcheck="true">#163</span>deb http://mirrors.163.com/debian wheezy main non-free contribdeb-src http://mirrors.163.com/debian wheezy main non-free contribdeb http://mirrors.163.com/debian wheezy-proposed-updates main non-free contribdeb-src http://mirrors.163.com/debian wheezy-proposed-updates main non-free contribdeb-src http://mirrors.163.com/debian-security wheezy/updates main non-free contrib<span class="token comment" spellcheck="true">#东软大学</span>deb http://mirrors.neusoft.edu.cn/kali kali-rolling/main non-free contribdeb-src http://mirrors.neusoft.edu.cn/kali kali-rolling/main non-free contrib<span class="token comment" spellcheck="true">#官方源</span>deb http://http.kali.org/kali kali-rolling main non-free contribdeb-src http://http.kali.org/kali kali-rolling main non-free contrib</code></pre><p>任意选一个就好了，可以选清华，或者中科大</p><p><strong>3.</strong> 使用更新命令</p><pre class=" language-bash"><code class="language-bash"><span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt-get</span> upgrade <span class="token operator">&amp;&amp;</span> <span class="token function">apt-get</span> dist-upgrade</code></pre><h1 id="0x03：kali配置ssh服务"><a href="#0x03：kali配置ssh服务" class="headerlink" title="0x03：kali配置ssh服务"></a>0x03：kali配置ssh服务</h1><ol><li>开启ss服务</li></ol><p><code>service ssh start</code><br>2. 查看ssh服务状态</p><p><code>service ssh status</code><br>3. 关闭ssh服务</p><p><code>service ssh stop</code><br>步骤：<br>先是打开ssh服务，然后ifconfig查看虚拟机ip<br><img src="https://img-blog.csdnimg.cn/20200317011416793.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>然后就可以填主机，协议要选ssh<br>名称随意<br><img src="https://img-blog.csdnimg.cn/20200317011558319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>之后会提示我们输入用户名，就是虚拟机用户名<br>root （我的是root）<br>填写完后会要求我们输入密码<br><img src="https://img-blog.csdnimg.cn/20200317011712365.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>输入你自己虚拟机的密码既可<br>然后点击记住密码，下次就可以直接登录了<br><img src="https://img-blog.csdnimg.cn/20200317011804574.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>出现这个标志就说明成功了。啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦</p>]]></content>
      
      
      <categories>
          
          <category> kali </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>存储型&amp;dom型</title>
      <link href="/2020/0316476.html"/>
      <url>/2020/0316476.html</url>
      
        <content type="html"><![CDATA[<h1 id="0x01-存储型xss"><a href="#0x01-存储型xss" class="headerlink" title="0x01.存储型xss"></a>0x01.存储型xss</h1><hr><p><strong>1. 什么是存储型xss？</strong></p><blockquote><p>攻击者事先将恶意代码上传或储存到漏洞服务器中，只要受害者浏览包含此恶意代码的页面就会执行恶意代码。只要访问了这个页面的访客，都有可能会执行这段恶意脚本<br>（因此储存型XSS的危害会更大。因为存储型XSS的代码存在于网页的代码中，可以说是永久型的）</p></blockquote><p><strong>2. 源码剖析</strong><br>这里直接贴出php源码</p><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span></span>存储型<span class="token constant">XSS</span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>        输入你的<span class="token constant">ID</span>：  <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span> <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span></span>        输入你的Name：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span> <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>提交<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">></span></span></span><span class="token delimiter">&lt;?php</span>    <span class="token variable">$id</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$name</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string">"localhost"</span><span class="token punctuation">,</span><span class="token string">"root"</span><span class="token punctuation">,</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mysql_select_db</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span><span class="token operator">=</span><span class="token string">"insert into xss value ($id,'$name')"</span><span class="token punctuation">;</span>    <span class="token variable">$result</span><span class="token operator">=</span><span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span class="token delimiter">&lt;?php</span>        <span class="token keyword">echo</span> <span class="token string">"回显内容："</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string">"&lt;br />"</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span><span class="token operator">=</span><span class="token string">"select * from xss where id=1"</span><span class="token punctuation">;</span>    <span class="token variable">$result</span><span class="token operator">=</span><span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$row</span><span class="token operator">=</span><span class="token function">mysql_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>可以看到的是，先在第一段部分，接受用户的内容，第二段是将内容插入<br>数据库，第三个回显内容就是从数据库查询。<br>（其实那2个php可以合成一个php，但是我不想，懒得）<br>具体内容我在反射型xss已经讲过了，可以狭义的概述</p><blockquote><p><code>存储型xss</code>：<strong>用户输入内容插入了数据库，内存，文件等其他地方。然后再次访问的时候没有输入payload，就会自动弹窗</strong><br>（例如留言板，或者个人资料修改。第一次插入后，连续访问还自动弹窗，说明这就是存储型xss）</p><p><code>反射型xss</code>：<strong>用户想要利用，就得输入一次payload</strong> （例如在搜索处发现xss，想要让他弹窗，就得重新输入一遍）</p></blockquote><p><strong>3. 靶场演示</strong><br>通过源码，我们知道这是这是输出xss表中的内容<br>我们先看下xss表有没有内容<br><img src="https://img-blog.csdnimg.cn/20200317113852628.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""><br>发现没有内容，这时候我们进入靶场先插入id和name<br><img src="https://img-blog.csdnimg.cn/20200317113948174.png" alt="在这里插入图片描述"><br>然后会输出我们的名字<br><img src="https://img-blog.csdnimg.cn/20200317114029746.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""><br>这时候就成功的输出了，我们查看下xss这个表中有没有内容<br><img src="https://img-blog.csdnimg.cn/20200317114118487.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这时候发现有条内容了。说明我们插入，或者我们平时注册的时候<br>会插入数据库等等，一般在网站后台可以看到</p><blockquote><p>我应该把上面的第三个php输出内容的代码单独拿出来，模拟管理员访问的页面 QAQ 但是写到这里了，我也不想弄，大概理解个意思就好了</p></blockquote><p>然后我把xss表内容删除掉，插入我们恶意语句的代码<br><img src="https://img-blog.csdnimg.cn/20200317114930473.png" alt="在这里插入图片描述"><br>payload：<code>&lt;script&gt;alert(\&#39;Young\&#39;)&lt;/script&gt;</code><br>这是提交，发现弹窗了<br><img src="https://img-blog.csdnimg.cn/20200317115039712.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>注意这里为啥没有回显内容，因为他把我们输入的内容当做代码执行了，所以没有显示<br>（你见过执行的代码会显示给用户嘛 QAQ）<br><img src="https://img-blog.csdnimg.cn/20200317115153286.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这时候发现数据库有了一条数据，那就是我们插入的数据<br>恶意的js语句<br>这种存储型xss漏洞存在于，留言板，个人资料等等<br>因为会保存进数据库，然后在后台显示，所以后台管理员只要看到这条信息<br>他就中招了</p><blockquote><p>至于会不会被发现，这个就不用担心，内容会被当做代码执行，所以不会显示的</p></blockquote><p>我们可以查看一下掌控安全的靶场<br><img src="https://img-blog.csdnimg.cn/20200317115651421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这时候点击一下查看留言，因为好多人都会在这里插<br>（你也可以在留言反馈那边弹一条）<br><img src="https://img-blog.csdnimg.cn/20200317115807285.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>然而也不知道是谁在这插，插这么多，我点不完。所以就不演示了</p><h1 id="0x02-Dom型xss"><a href="#0x02-Dom型xss" class="headerlink" title="0x02.Dom型xss"></a>0x02.Dom型xss</h1><hr>**什么是 dom—based xss？**`狭义的总结`：原本不应该出现xss的地方，但是经过javascript的操作之后产生了xss<p>这里涉及到了document对象的一些操作，看过前面偏移注入的话应该知道<br><code>document.cookie</code>  这样的话就是查看自己的cookie<br><img src="https://img-blog.csdnimg.cn/20200317141516218.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""><br>这里的话也可以使用下面这条命令，判断是否伪静态<br>如果使用这条的话，时间再不断的变化，就是动态</p><p><code>document.lastModifiled</code></p><p>还有其他的一些方法<br><img src="https://img-blog.csdnimg.cn/20200317142919710.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这里具体讲<code>document.write()</code><br>这个有啥用？<br>其实就是在页面上面输出<br><img src="https://img-blog.csdnimg.cn/20200317143505236.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>先判断下是不是动态页面，然后再写<br><code>document.write(&quot;young&quot;)</code><br>要write什么可以自己定义<br><img src="https://img-blog.csdnimg.cn/20200317143432531.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>然而上面提到了，其实这个write() 也是个js语句<br>接受编码，那我们试着将下面这个编码，看会不会弹窗<br><code>&lt;script&gt;alert(1)&lt;/script&gt;</code><br><img src="https://img-blog.csdnimg.cn/20200317144009626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""><br>编码后再使用document.write()写入<br><img src="https://img-blog.csdnimg.cn/20200317144052305.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""><br>发现这里弹窗了<del>~<br>我们通过js编码后，它成功的弹窗了<br>（但是这个不是漏洞，这里想说的是，像document.write() 会自动对编码进行解码</del>）</p><p>似乎扯的有点远了，但是如果被拦截了<br>这里可以通过Js代码的解码，去进行绕过 QAQ<br>然而xss的时候，也可以使用burp<br>因为有可能前端有限制，但是数据包没有</p><p>例如还有比较偏的，在上传头像的地方打xss QAQ</p><h2 id="靶场实战"><a href="#靶场实战" class="headerlink" title="靶场实战"></a>靶场实战</h2><p>这里的话借用靶场，因为我觉得这个靶场很容易讲的话很容易理解<br><img src="https://img-blog.csdnimg.cn/20200317152317345.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt=""><br>通过审查源码，我们可以发现，这里是document.write()进行输出到页面上的<br>这时候我们可以尝试的，也在这个页面弹窗，通过修改发现，这个输入点是在url那边<br><code>&lt;script&gt;alert(1)&lt;/script&gt;</code><br>这时候发现，似乎没有弹窗<br><img src="https://img-blog.csdnimg.cn/20200317152801970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>但是注意看，我们输入的内容，已经被<code>&lt;script&gt;</code>给包围了<br>这时候我们用其他的语句测试<br><code>&lt;img src=a onerror=alert(1) /&gt;</code><br><img src="https://img-blog.csdnimg.cn/20200317152957637.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2MzA0ODQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这时候成功的弹窗了，说明了我们输入的内容被执行了<br>可以简单理解成，标签内不可以使用<code>&lt;script&gt;</code></p><p>其他常用的弹窗语句<br>1.<code>&lt;img src=a onerror=alert(1) &gt;</code><br>2.<code>&lt;svg onload=alert(1)&gt;</code><br>这几个是我经常用的</p><h2 id="小总结"><a href="#小总结" class="headerlink" title="小总结"></a>小总结</h2><p>dom型xss其实本质上还是反射型xss，他没有与数据库交互，没次想要弹窗，都需要输入一次payload<br>对dom型xss没有深入了解</p><p>啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊<br><img src="https://img-blog.csdnimg.cn/20200317153445786.png" alt="尴尬"></p>]]></content>
      
      
      <categories>
          
          <category> xss </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Who are Young?</title>
      <link href="/2020/03165880.html"/>
      <url>/2020/03165880.html</url>
      
        <content type="html"><![CDATA[<h3 id="在下尘世中的一届小白，辣鸡中的战斗机"><a href="#在下尘世中的一届小白，辣鸡中的战斗机" class="headerlink" title="在下尘世中的一届小白，辣鸡中的战斗机"></a>在下尘世中的一届小白，辣鸡中的战斗机</h3><p>在安全圈内的一个混子选手，打王者也是王者里面的混子</p><p>所以只能不断的去论坛学习学习，但是没办法，我就是个靓仔<br><img src="https://img-blog.csdnimg.cn/20200316174518780.jpg" alt="这是靓仔"><br>———————————————————————————————————————————————————</p><h2 id="关于我这个战斗机的简介"><a href="#关于我这个战斗机的简介" class="headerlink" title="关于我这个战斗机的简介"></a>关于我这个战斗机的简介</h2><p><code>ID</code>：Young，youngboy<br><code>职业</code>：无QAQ<br><code>性格</code>：外冷内也冷，比较内向<br><code>住址</code>：福建莆田内，啷个哩个啷<br><code>喜欢看的剧</code>：我在未来等你，大唐女法医<br><code>喜欢的游戏</code>：也就一个王者荣耀吧（鄙人就是小学生）<br><code>其他爱好</code>：打游戏，看书，游泳，听歌<br><code>一些经历</code>：也就挖过洞，在各大src飘荡不小心上了个榜。然后就没啥了吧<br><code>为什么做安全</code>：做安全只是为了兴趣，简单就是装逼。小时候电影看多了趴<br>              做安全为兴趣的同时也赚点钱不然就吃土了</p><p>———————————————————————————————————————————————————</p><h2 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h2><p>你问我爱你有多深，我也不知道该咋写了。蹭个免费博客玩<br>（不要问我为什么，问就是没钱）</p><p>预计发展方向：二进制<del>~</del></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
